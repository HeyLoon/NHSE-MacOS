<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="using:NHSE.macOS.ViewModels"
        x:Class="NHSE.macOS.Views.EditorWindow"
        x:DataType="vm:EditorWindowViewModel"
        Title="{Binding SaveFile.GetSaveTitle('NHSE')}"
        Width="1200" Height="800">

    <Grid RowDefinitions="Auto,*">
        <!-- Toolbar -->
        <Border Grid.Row="0" Background="{StaticResource SurfaceBrush}" BorderBrush="{StaticResource BorderBrush}" BorderThickness="0,0,0,1" Padding="10,5">
            <StackPanel Orientation="Horizontal" Spacing="10">
                <ComboBox ItemsSource="{Binding PlayerNames}" SelectedIndex="{Binding CurrentPlayerIndex}" Width="150" PlaceholderText="Select Player"/>
                <Separator Width="1" Height="20" Background="{StaticResource BorderBrush}"/>
                <Button Content="Save" Command="{Binding SaveAllCommand}" />
                <Button Content="Dump Decrypted" Command="{Binding DumpDecryptedCommand}"/>
                <Button Content="Verify Hashes" Command="{Binding VerifyHashesCommand}"/>
                <Separator Width="1" Height="20" Background="{StaticResource BorderBrush}"/>
                <ComboBox ItemsSource="{Binding Languages}" SelectedIndex="{Binding SelectedLanguageIndex}" Width="120"/>
            </StackPanel>
        </Border>

        <!-- Main Content -->
        <TabControl Grid.Row="1" SelectedIndex="{Binding SelectedTabIndex}" Margin="10">
            <!-- Player Tab -->
            <TabItem Header="Player">
                <ContentControl Content="{Binding CurrentPlayerViewModel}" />
            </TabItem>

            <!-- Villagers Tab -->
            <TabItem Header="Villagers">
                <ContentControl Content="{Binding VillagerViewModel}" />
            </TabItem>

            <!-- Main Save Tab -->
            <TabItem Header="Main Save">
                <ContentControl Content="{Binding MainSaveViewModel}" />
            </TabItem>
        </TabControl>
    </Grid>
</Window>
